class Solution {
public:
    int search(vector<int>& nums, int target) {
        // if(nums.size()==1){
        //     if(nums[0]==target ) return 0;
        //     else return -1;
        // }
       int low=0; int high=nums.size()-1;
       while(low<=high) {
        int mid = low + (high-low)/2;
        if(nums[mid]==target) return mid;
        if(nums[low]<=nums[mid]) {
            if(nums[low]<= target && target<nums[mid]) high=mid-1; // target is in left
            else low=mid+1;  //target is in right
        }
        else {
            if(nums[mid] < target && target<=nums[high] ) low=mid+1; //target is in right
            else high=mid-1; //target is in left
        }

       }
       return -1;
    }
};
